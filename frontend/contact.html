<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Li√™n h·ªá - WebMarketing</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-white text-gray-800">
    <!-- üîµ HEADER -->
    <div id="site-header"></div>
    <script>
      fetch("partials/header.html")
        .then((res) => res.text())
        .then(
          (html) => (document.getElementById("site-header").innerHTML = html)
        );
    </script>

    <!-- üìò BANNER -->
    <section
      class="w-full bg-gradient-to-r from-[#F3DC79] to-[#08CBFB] py-12 text-center"
    >
      <h1 class="text-3xl font-bold text-white">LI√äN H·ªÜ V·ªöI CH√öNG T√îI</h1>
      <p class="text-white text-sm mt-2">Trang ch·ªß / Li√™n h·ªá</p>
    </section>

    <!-- üì® FORM LI√äN H·ªÜ -->
    <section id="contactForm" class="max-w-4xl mx-auto px-6 py-12">
      <h2 class="text-2xl font-bold text-center mb-6">
        G·ª≠i y√™u c·∫ßu ho·∫∑c c√¢u h·ªèi c·ªßa b·∫°n
      </h2>

      <form id="contactFormEl" class="space-y-4 bg-white shadow rounded-lg p-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <input
            type="text"
            id="contactName"
            placeholder="H·ªç v√† T√™n"
            class="border border-gray-300 rounded p-3 text-sm w-full"
            required
          />
          <input
            type="email"
            id="contactEmail"
            placeholder="Email"
            class="border border-gray-300 rounded p-3 text-sm w-full"
            required
          />
        </div>
        <input
          type="text"
          id="contactSubject"
          placeholder="Ti√™u ƒë·ªÅ"
          class="border border-gray-300 rounded p-3 text-sm w-full"
        />
        <textarea
          rows="5"
          id="contactMessage"
          placeholder="N·ªôi dung..."
          class="border border-gray-300 rounded p-3 text-sm w-full"
          required
        ></textarea>
        <button
          type="submit"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded font-semibold text-sm transition"
        >
          G·ª≠i li√™n h·ªá
        </button>
        <p id="contactResponse" class="text-sm mt-3 text-center"></p>
      </form>
    </section>

    <script>
      document
        .getElementById("contactFormEl")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const name = document.getElementById("contactName").value.trim();
          const email = document.getElementById("contactEmail").value.trim();
          const message = document
            .getElementById("contactMessage")
            .value.trim();
          const responseText = document.getElementById("contactResponse");

          try {
            const res = await fetch("http://localhost:5000/api/contact", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ name, email, message }),
            });

            const data = await res.json();

            if (res.ok) {
              responseText.textContent =
                data.message || "G·ª≠i li√™n h·ªá th√†nh c√¥ng!";
              responseText.className =
                "text-green-600 text-sm mt-3 text-center";
              document.getElementById("contactFormEl").reset();
            } else {
              responseText.textContent = data.error || "G·ª≠i th·∫•t b·∫°i.";
              responseText.className = "text-red-600 text-sm mt-3 text-center";
            }
          } catch (err) {
            responseText.textContent =
              "Kh√¥ng th·ªÉ g·ª≠i li√™n h·ªá. Vui l√≤ng th·ª≠ l·∫°i sau.";
            responseText.className = "text-red-600 text-sm mt-3 text-center";
          }
        });
    </script>

    <!-- üó∫Ô∏è TH√îNG TIN & B·∫¢N ƒê·ªí -->
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3724.279697312903!2d105.80155607591992!3d21.021398488195654!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135ab41d2c74b09%3A0x42183a8ea07c3216!2zMjdFIMSQw6AgxJDDrG5nIEjhu5NpLCBOZ2jhu4sgQ8O0IFRo4buNLCBD4bqndSBHaeG6pXksIEjDoCBO4buZaQ!5e0!3m2!1svi!2s!4v1713199999999"
      width="100%"
      height="250"
      style="border: 0"
      allowfullscreen=""
      loading="lazy"
    ></iframe>
    <!-- üîö FOOTER -->
    <div id="site-footer"></div>
    <script>
      fetch("partials/footer.html")
        .then((res) => res.text())
        .then(
          (html) => (document.getElementById("site-footer").innerHTML = html)
        );
    </script>
  </body>
</html>
